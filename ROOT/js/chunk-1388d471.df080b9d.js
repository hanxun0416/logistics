(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1388d471"],{"47a3":function(a,t,i){},bb26:function(a,t,i){"use strict";i.r(t);var e,n=function(){var a=this,t=a.$createElement,i=a._self._c||t;return i("div",{staticClass:"main"},[i("div",{staticClass:"main-mid"},[i("van-pull-refresh",{on:{refresh:function(t){return a.Refresh()}},model:{value:a.isLoading,callback:function(t){a.isLoading=t},expression:"isLoading"}},[i("van-list",{attrs:{finished:a.finished,"finished-text":a.finishedtxt},on:{load:function(t){return a.onLoad()}},model:{value:a.loading,callback:function(t){a.loading=t},expression:"loading"}},a._l(a.dataList,(function(a,t){return i("div",{key:t},[i("settled-card",{attrs:{carddata:a}})],1)})),0)],1)],1)])},o=[],d=i("75fc"),s=i("bd86"),r=(i("2994"),i("2bdd")),l=(i("7f7f"),i("ab71"),i("58e6")),c=i("54cb"),f=i("7b60"),u={name:"Settled",components:(e={"settled-card":c["a"]},Object(s["a"])(e,l["a"].name,l["a"]),Object(s["a"])(e,r["a"].name,r["a"]),e),data:function(){return{dataList:[],finished:!1,isLoading:!1,loading:!1,finishedtxt:"我是有底线的",pageNo:1,pageCount:0}},methods:{onLoad:function(){var a=this;if(this.isLoading||this.finished||this.dataList.length<20&&this.dataList.length>0)return this.finished=!0,void(this.loading=!1);this.loading=!0;var t={transCorpID:71536,pageNo:1};this.$api.post(f["a"].settled,t).then((function(t){if("200"==t.data.code){a.pageCount=t.data.data.pageCount,a.pageNo++;for(var i=Object(d["a"])(t.data.data.transBillMains),e=0;e<i.length;e++){var n={orderNum:i[e].orderID||i[e].allBillNo,from:i[e].startAddr,to:i[e].endPlace,courierNumber:i[e].billNo,price:i[e].transPrice*i[e].weight,allBillNo:i[e].billNo,orderDate:i[e].modifyDate};a.dataList.push(n)}a.loading=!1,a.dataList.length/20>=a.pageCount-1&&(a.finished=!0)}})).catch((function(t){a.loading=!1,a.finished=!0,a.finishedtxt="网络错误，暂无数据"}))},Refresh:function(){var a=this;this.$api.post(f["a"].settled,{pageNo:1,transCorpID:71536}).then((function(t){if("200"==t.data.code){a.pageCount=t.data.data.pageCount;var i=Object(d["a"])(t.data.data.transBillMains);a.dataList=[],a.pageNo++;for(var e=0;e<i.length;e++){var n={orderNum:i[e].orderID||i[e].allBillNo,from:i[e].startAddr,to:i[e].endPlace,courierNumber:i[e].billNo,price:i[e].transPrice*i[e].weight,allBillNo:i[e].billNo,orderDate:i[e].modifyDate};a.dataList.push(n)}}a.isLoading=!1,a.finished=!0})).catch((function(t){a.isLoading=!1,a.finishedtxt="网络错误，暂无数据"}))}}},h=u,g=(i("c4a9"),i("2877")),p=Object(g["a"])(h,n,o,!1,null,"2629919c",null);t["default"]=p.exports},c4a9:function(a,t,i){"use strict";var e=i("47a3"),n=i.n(e);n.a}}]);