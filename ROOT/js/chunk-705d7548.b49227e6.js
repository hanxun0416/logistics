(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-705d7548"],{1146:function(t,e,a){},"2cbd":function(t,e,a){"use strict";a("68ef"),a("4d75"),a("09fe"),a("8400")},3846:function(t,e,a){a("9e1e")&&"g"!=/./g.flags&&a("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:a("0bfb")})},4772:function(t,e,a){"use strict";var n=a("cd6d"),i=a.n(n);i.a},"48f4":function(t,e,a){"use strict";function n(t,e){var a=e.to,n=e.url,i=e.replace;if(a&&t){var r=t[i?"replace":"push"](a);r&&r.catch&&r.catch((function(t){if(t&&"NavigationDuplicated"!==t.name)throw t}))}else n&&(i?location.replace(n):location.href=n)}function i(t){n(t.parent&&t.parent.$router,t.props)}a.d(e,"b",(function(){return n})),a.d(e,"a",(function(){return i})),a.d(e,"c",(function(){return r}));var r={url:String,replace:Boolean,to:[String,Object]}},"565f":function(t,e,a){"use strict";var n=a("2638"),i=a.n(n),r=a("c31d"),s=a("ad06"),o=a("7744"),c=a("dfaf"),l=a("1325"),u=a("a142");function d(){return!u["d"]&&/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase())}var f=a("a8c1"),h=d();function b(){h&&Object(f["e"])(Object(f["b"])())}var p=a("d282"),g=a("ea8e"),m=Object(p["a"])("field"),v=m[0],y=m[1];e["a"]=v({inheritAttrs:!1,props:Object(r["a"])({},c["a"],{error:Boolean,readonly:Boolean,autosize:[Boolean,Object],leftIcon:String,rightIcon:String,clearable:Boolean,labelClass:null,labelWidth:[Number,String],labelAlign:String,inputAlign:String,errorMessage:String,errorMessageAlign:String,showWordLimit:Boolean,type:{type:String,default:"text"}}),data:function(){return{focused:!1}},watch:{value:function(){this.$nextTick(this.adjustSize)}},mounted:function(){this.format(),this.$nextTick(this.adjustSize)},computed:{showClear:function(){return this.clearable&&this.focused&&""!==this.value&&Object(u["b"])(this.value)&&!this.readonly},listeners:function(){var t=Object(r["a"])({},this.$listeners,{input:this.onInput,keypress:this.onKeypress,focus:this.onFocus,blur:this.onBlur});return delete t.click,t},labelStyle:function(){var t=this.labelWidth;if(t)return{width:Object(g["a"])(t)}}},methods:{focus:function(){this.$refs.input&&this.$refs.input.focus()},blur:function(){this.$refs.input&&this.$refs.input.blur()},format:function(t){if(void 0===t&&(t=this.$refs.input),t){var e=t,a=e.value,n=this.$attrs.maxlength;return"number"===this.type&&Object(u["b"])(n)&&a.length>n&&(a=a.slice(0,n),t.value=a),a}},onInput:function(t){t.target.composing||this.$emit("input",this.format(t.target))},onFocus:function(t){this.focused=!0,this.$emit("focus",t),this.readonly&&this.blur()},onBlur:function(t){this.focused=!1,this.$emit("blur",t),b()},onClick:function(t){this.$emit("click",t)},onClickLeftIcon:function(t){this.$emit("click-left-icon",t)},onClickRightIcon:function(t){this.$emit("click-right-icon",t)},onClear:function(t){Object(l["c"])(t),this.$emit("input",""),this.$emit("clear",t)},onKeypress:function(t){if("number"===this.type){var e=t.keyCode,a=-1===String(this.value).indexOf("."),n=e>=48&&e<=57||46===e&&a||45===e;n||Object(l["c"])(t)}"search"===this.type&&13===t.keyCode&&this.blur(),this.$emit("keypress",t)},adjustSize:function(){var t=this.$refs.input;if("textarea"===this.type&&this.autosize&&t){t.style.height="auto";var e=t.scrollHeight;if(Object(u["c"])(this.autosize)){var a=this.autosize,n=a.maxHeight,i=a.minHeight;n&&(e=Math.min(e,n)),i&&(e=Math.max(e,i))}e&&(t.style.height=e+"px")}},genInput:function(){var t=this.$createElement,e=this.slots("input");if(e)return t("div",{class:y("control",this.inputAlign)},[e]);var a={ref:"input",class:y("control",this.inputAlign),domProps:{value:this.value},attrs:Object(r["a"])({},this.$attrs,{readonly:this.readonly}),on:this.listeners,directives:[{name:"model",value:this.value}]};return"textarea"===this.type?t("textarea",i()([{},a])):t("input",i()([{attrs:{type:this.type}},a]))},genLeftIcon:function(){var t=this.$createElement,e=this.slots("left-icon")||this.leftIcon;if(e)return t("div",{class:y("left-icon"),on:{click:this.onClickLeftIcon}},[this.slots("left-icon")||t(s["a"],{attrs:{name:this.leftIcon}})])},genRightIcon:function(){var t=this.$createElement,e=this.slots,a=e("right-icon")||this.rightIcon;if(a)return t("div",{class:y("right-icon"),on:{click:this.onClickRightIcon}},[e("right-icon")||t(s["a"],{attrs:{name:this.rightIcon}})])},genWordLimit:function(){var t=this.$createElement;if(this.showWordLimit&&this.$attrs.maxlength)return t("div",{class:y("word-limit")},[this.value.length,"/",this.$attrs.maxlength])}},render:function(){var t,e=arguments[0],a=this.slots,n=this.labelAlign,i={icon:this.genLeftIcon};return a("label")&&(i.title=function(){return a("label")}),e(o["a"],{attrs:{icon:this.leftIcon,size:this.size,title:this.label,center:this.center,border:this.border,isLink:this.isLink,required:this.required,clickable:this.clickable,titleStyle:this.labelStyle,titleClass:[y("label",n),this.labelClass],arrowDirection:this.arrowDirection},class:y((t={error:this.error},t["label-"+n]=n,t["min-height"]="textarea"===this.type&&!this.autosize,t)),scopedSlots:i,on:{click:this.onClick}},[e("div",{class:y("body")},[this.genInput(),this.showClear&&e(s["a"],{attrs:{name:"clear"},class:y("clear"),on:{touchstart:this.onClear}}),this.genRightIcon(),a("button")&&e("div",{class:y("button")},[a("button")])]),this.genWordLimit(),this.errorMessage&&e("div",{class:y("error-message",this.errorMessageAlign)},[this.errorMessage])])}})},"66b9":function(t,e,a){"use strict";a("68ef"),a("09fe")},"6b54":function(t,e,a){"use strict";a("3846");var n=a("cb7c"),i=a("0bfb"),r=a("9e1e"),s="toString",o=/./[s],c=function(t){a("2aba")(RegExp.prototype,s,t,!0)};a("79e5")((function(){return"/a/b"!=o.call({source:"a",flags:"b"})}))?c((function(){var t=n(this);return"/".concat(t.source,"/","flags"in t?t.flags:!r&&t instanceof RegExp?i.call(t):void 0)})):o.name!=s&&c((function(){return o.call(this)}))},7744:function(t,e,a){"use strict";var n=a("c31d"),i=a("2638"),r=a.n(i),s=a("d282"),o=a("a142"),c=a("dfaf"),l=a("ba31"),u=a("48f4"),d=a("ad06"),f=Object(s["a"])("cell"),h=f[0],b=f[1];function p(t,e,a,n){var i=e.icon,s=e.size,c=e.title,f=e.label,h=e.value,p=e.isLink,g=e.arrowDirection,m=a.title||Object(o["b"])(c),v=a.default||Object(o["b"])(h),y=a.label||Object(o["b"])(f),k=y&&t("div",{class:[b("label"),e.labelClass]},[a.label?a.label():f]),O=m&&t("div",{class:[b("title"),e.titleClass],style:e.titleStyle},[a.title?a.title():t("span",[c]),k]),S=v&&t("div",{class:[b("value",{alone:!a.title&&!c}),e.valueClass]},[a.default?a.default():t("span",[h])]),C=a.icon?a.icon():i&&t(d["a"],{class:b("left-icon"),attrs:{name:i}}),j=a["right-icon"],x=j?j():p&&t(d["a"],{class:b("right-icon"),attrs:{name:g?"arrow-"+g:"arrow"}});function B(t){Object(l["a"])(n,"click",t),Object(u["a"])(n)}var $=p||e.clickable,w={clickable:$,center:e.center,required:e.required,borderless:!e.border};return s&&(w[s]=s),t("div",r()([{class:b(w),attrs:{role:$?"button":null,tabindex:$?0:null},on:{click:B}},Object(l["b"])(n)]),[C,O,S,x,a.extra&&a.extra()])}p.props=Object(n["a"])({},c["a"],{},u["c"]),e["a"]=h(p)},8400:function(t,e,a){},9723:function(t,e,a){},ab2c:function(t,e,a){"use strict";var n=a("c31d"),i=a("2638"),r=a.n(i),s=a("d282"),o=a("ba31"),c=a("b1d2"),l=a("6605"),u=a("ad06"),d=a("e41f"),f=a("543e"),h=Object(s["a"])("action-sheet"),b=h[0],p=h[1];function g(t,e,a,n){var i=e.title,s=e.cancelText;function l(){Object(o["a"])(n,"input",!1),Object(o["a"])(n,"cancel")}function h(){if(i)return t("div",{class:[p("header"),c["a"]]},[i,t(u["a"],{attrs:{name:"close"},class:p("close"),on:{click:l}})])}function b(){if(a.default)return t("div",{class:p("content")},[a.default()])}function g(a,i){var r=a.disabled||a.loading;function s(t){t.stopPropagation(),a.disabled||a.loading||(a.callback&&a.callback(a),Object(o["a"])(n,"select",a,i),e.closeOnClickAction&&Object(o["a"])(n,"input",!1))}function l(){return a.loading?t(f["a"],{attrs:{size:"20px"}}):[t("span",{class:p("name")},[a.name]),a.subname&&t("span",{class:p("subname")},[a.subname])]}return t("button",{class:[p("item",{disabled:r}),a.className,c["d"]],style:{color:a.color},on:{click:s}},[l()])}function m(){if(s)return t("button",{class:p("cancel"),on:{click:l}},[s])}var v=e.description&&t("div",{class:p("description")},[e.description]);return t(d["a"],r()([{class:p(),attrs:{position:"bottom",round:e.round,value:e.value,overlay:e.overlay,duration:e.duration,lazyRender:e.lazyRender,lockScroll:e.lockScroll,getContainer:e.getContainer,closeOnClickOverlay:e.closeOnClickOverlay,safeAreaInsetBottom:e.safeAreaInsetBottom}},Object(o["b"])(n,!0)]),[h(),v,e.actions&&e.actions.map(g),b(),m()])}g.props=Object(n["a"])({},l["a"].props,{title:String,actions:Array,duration:Number,cancelText:String,description:String,getContainer:[String,Function],closeOnClickAction:Boolean,round:{type:Boolean,default:!0},safeAreaInsetBottom:{type:Boolean,default:!0},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0}}),e["a"]=b(g)},b1d2:function(t,e,a){"use strict";a.d(e,"g",(function(){return n})),a.d(e,"d",(function(){return r})),a.d(e,"b",(function(){return s})),a.d(e,"a",(function(){return o})),a.d(e,"c",(function(){return c})),a.d(e,"e",(function(){return l})),a.d(e,"f",(function(){return u}));var n="#fff",i="van-hairline",r=i+"--top",s=i+"--left",o=i+"--bottom",c=i+"--surround",l=i+"--top-bottom",u=i+"-unset--top-bottom"},b650:function(t,e,a){"use strict";var n=a("c31d"),i=a("2638"),r=a.n(i),s=a("d282"),o=a("ba31"),c=a("b1d2"),l=a("48f4"),u=a("ad06"),d=a("543e"),f=Object(s["a"])("button"),h=f[0],b=f[1];function p(t,e,a,n){var i,s=e.tag,f=e.icon,h=e.type,p=e.color,g=e.plain,m=e.disabled,v=e.loading,y=e.hairline,k=e.loadingText,O={};function S(t){v||m||(Object(o["a"])(n,"click",t),Object(l["a"])(n))}function C(t){Object(o["a"])(n,"touchstart",t)}p&&(O.color=g?p:c["g"],g||(O.background=p),-1!==p.indexOf("gradient")?O.border=0:O.borderColor=p);var j=[b([h,e.size,{plain:g,disabled:m,hairline:y,block:e.block,round:e.round,square:e.square}]),(i={},i[c["c"]]=y,i)];function x(){var n,i=[];return v?i.push(t(d["a"],{class:b("loading"),attrs:{size:e.loadingSize,type:e.loadingType,color:"currentColor"}})):f&&i.push(t(u["a"],{attrs:{name:f},class:b("icon")})),n=v?k:a.default?a.default():e.text,n&&i.push(t("span",{class:b("text")},[n])),i}return t(s,r()([{style:O,class:j,attrs:{type:e.nativeType,disabled:m},on:{click:S,touchstart:C}},Object(o["b"])(n)]),[x()])}p.props=Object(n["a"])({},l["c"],{text:String,icon:String,color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,nativeType:String,loadingText:String,loadingType:String,tag:{type:String,default:"button"},type:{type:String,default:"default"},size:{type:String,default:"normal"},loadingSize:{type:String,default:"20px"}}),e["a"]=h(p)},b719:function(t,e,a){"use strict";a.r(e);var n,i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"main-mid"},[a("order-info",{attrs:{carddata:t.orderdata},on:{selectCar:function(e){return t.selectCar()}}}),a("transport-card",{staticStyle:{"margin-top":"15px"},attrs:{carddata:t.transdata}}),a("goods-card",{staticStyle:{"margin-top":"15px"},attrs:{carddata:t.goodsdata}})],1),a("van-button",{staticClass:"sendBtn",attrs:{hairline:"",size:"large"},on:{click:function(e){return t.submit()}}},[t._v("提交报价")]),a("van-action-sheet",{attrs:{actions:t.actions},on:{select:t.onSelect},model:{value:t.flag,callback:function(e){t.flag=e},expression:"flag"}})],1)},r=[],s=(a("e7e5"),a("d399")),o=a("bd86"),c=(a("2cbd"),a("ab2c")),l=(a("7f7f"),a("66b9"),a("b650")),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"carCard"},[a("span",{staticClass:"title"},[t._v("订单信息")]),a("van-field",{staticClass:"item unable",attrs:{disabled:"",label:"订单号"},model:{value:t.carddata.orderNum,callback:function(e){t.$set(t.carddata,"orderNum",e)},expression:"carddata.orderNum"}}),a("van-field",{staticClass:"item unable",attrs:{disabled:"",label:"总吨位"},model:{value:t.weight,callback:function(e){t.weight=e},expression:"weight"}}),a("van-field",{staticClass:"item",attrs:{type:"number",label:"单价",placeholder:"元/吨",required:""},model:{value:t.carddata.price,callback:function(e){t.$set(t.carddata,"price",e)},expression:"carddata.price"}}),a("van-field",{staticClass:"item",class:{unable:!t.isEmpty},attrs:{label:"运输方式",placeholder:"请选择运输方式",required:"",disabled:""},on:{click:function(e){return t.selectCar()}},model:{value:t.carddata.transTypeName,callback:function(e){t.$set(t.carddata,"transTypeName",e)},expression:"carddata.transTypeName"}}),a("van-field",{staticClass:"item unable",attrs:{disabled:"",label:"总金额",placeholder:"元",required:""},model:{value:t.totalMoney,callback:function(e){t.totalMoney=e},expression:"totalMoney"}})],1)},d=[],f=(a("be7f"),a("565f")),h=a("e292"),b={name:"OrderInfo",props:["carddata"],components:Object(o["a"])({},f["a"].name,f["a"]),data:function(){return{imgList:[]}},methods:{selectCar:function(){this.$emit("selectCar")}},computed:{isEmpty:function(){return""==this.carddata.transTypeName.trim()},weight:function(){return"".concat(this.carddata.weight,"吨")},totalMoney:function(){return""==this.carddata.price?"0元":"".concat(Object(h["a"])(this.carddata.price*this.carddata.weight*100,2),"元")}}},p=b,g=(a("cca3"),a("2877")),m=Object(g["a"])(p,u,d,!1,null,"844ffbdc",null),v=m.exports,y=a("967d"),k=a("5550"),O=a("7b60"),S={name:"Car",components:(n={"order-info":v,"goods-card":y["a"],"transport-card":k["a"]},Object(o["a"])(n,l["a"].name,l["a"]),Object(o["a"])(n,c["a"].name,c["a"]),n),data:function(){return{orderdata:{id:"",orderNum:"",weight:"",price:"",transType:"",transTypeName:"",quoteType:""},transdata:{type:0,startAddr:"",startDate:"",endPlace:"",endDate:""},goodsdata:[],flag:!1,actions:[{name:"整车",transType:"5001"},{name:"配车",transType:"5002"},{name:"包车",transType:"5003"}]}},created:function(){this.orderdata.id=this.$route.query.id,this.getOrderInfo()},methods:{selectCar:function(){this.flag=!0},onSelect:function(t,e){this.flag=!1,this.orderdata.transTypeName=t.name,this.orderdata.transType=t.transType},getOrderInfo:function(){var t=this,e={id:this.orderdata.id,permit:0};this.$api.post(O["a"].getOfferDetail,e).then((function(e){if("200"==e.data.code){var a=e.data.data[0],n=[a.allBillNo||a.orderID,a.weight,a.quoteType];t.orderdata.orderNum=n[0],t.orderdata.weight=n[1],t.orderdata.quoteType=n[2];var i=[a.startAddr,a.startDate,a.endPlace,a.endDate];t.transdata.startAddr=i[0],t.transdata.startDate=i[1],t.transdata.endPlace=i[2],t.transdata.endDate=i[3];for(var r=0;r<a.transBillLines.length;r++){var s={stename:a.transBillLines[r].steName||"",steSpec:a.transBillLines[r].steSpec||"",quantity:a.transBillLines[r].quantity||"",weight:a.transBillLines[r].weight||""};t.goodsdata.push(s)}}})).catch((function(t){}))},submit:function(){var t=this;for(var e in this.orderdata)if(""==this.orderdata[e])switch(e){case"price":return void Object(s["a"])("请填写单价");case"transType":return void Object(s["a"])("请选择运输方式");default:break}s["a"].loading({duration:0,forbidClick:!0,mask:!0,message:"拼命提交中..."});var a=JSON.parse(JSON.stringify(this.orderdata));a.totalMoney=a.price*a.weight,a.transPrice=a.price,this.$api.post(O["a"].saveOffer,a).then((function(e){"200"==e.data.code&&(s["a"].success("提交成功"),t.$router.push({name:"offer",params:{active:0}}))}))}}},C=S,j=(a("4772"),Object(g["a"])(C,i,r,!1,null,"5a918948",null));e["default"]=j.exports},be7f:function(t,e,a){"use strict";a("68ef"),a("09fe"),a("1146")},cca3:function(t,e,a){"use strict";var n=a("9723"),i=a.n(n);i.a},cd6d:function(t,e,a){},dfaf:function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));var n={icon:String,size:String,center:Boolean,isLink:Boolean,required:Boolean,clickable:Boolean,titleStyle:null,titleClass:null,valueClass:null,labelClass:null,title:[Number,String],value:[Number,String],label:[Number,String],arrowDirection:String,border:{type:Boolean,default:!0}}},e292:function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));a("6b54");function n(t,e){var a=parseFloat(t);if(isNaN(a))return!1;a=Math.round(t)/100;var n=a.toString(),i=n.indexOf(".");i<0&&(i=n.length,n+=".");while(n.length<=i+e)n+="0";return n}},e41f:function(t,e,a){"use strict";var n=a("d282"),i=a("a142"),r=a("6605"),s=a("ad06"),o=Object(n["a"])("popup"),c=o[0],l=o[1];e["a"]=c({mixins:[r["a"]],props:{round:Boolean,duration:Number,closeable:Boolean,transition:String,safeAreaInsetBottom:Boolean,closeIcon:{type:String,default:"cross"},closeIconPosition:{type:String,default:"top-right"},position:{type:String,default:"center"},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0}},beforeCreate:function(){var t=this,e=function(e){return function(a){return t.$emit(e,a)}};this.onClick=e("click"),this.onOpened=e("opened"),this.onClosed=e("closed")},render:function(){var t,e=arguments[0];if(this.shouldRender){var a=this.round,n=this.position,r=this.duration,o=this.transition||("center"===n?"van-fade":"van-popup-slide-"+n),c={};return Object(i["b"])(r)&&(c.transitionDuration=r+"s"),e("transition",{attrs:{name:o},on:{afterEnter:this.onOpened,afterLeave:this.onClosed}},[e("div",{directives:[{name:"show",value:this.value}],style:c,class:l((t={round:a},t[n]=n,t["safe-area-inset-bottom"]=this.safeAreaInsetBottom,t)),on:{click:this.onClick}},[this.slots(),this.closeable&&e(s["a"],{attrs:{role:"button",tabindex:"0",name:this.closeIcon},class:l("close-icon",this.closeIconPosition),on:{click:this.close}})])])}}})}}]);