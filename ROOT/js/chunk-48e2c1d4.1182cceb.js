(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-48e2c1d4"],{"029f":function(t,i,e){},"0738":function(t,i,e){},"0a26":function(t,i,e){"use strict";e.d(i,"a",(function(){return c}));var a=e("ad06"),n=e("9884"),s=e("ea8e"),c=function(t){var i=t.parent,e=t.bem,c=t.role;return{mixins:[Object(n["a"])(i)],props:{name:null,value:null,disabled:Boolean,iconSize:[Number,String],checkedColor:String,labelPosition:String,labelDisabled:Boolean,shape:{type:String,default:"round"},bindGroup:{type:Boolean,default:!0}},computed:{disableBindRelation:function(){return!this.bindGroup},isDisabled:function(){return this.parent&&this.parent.disabled||this.disabled},iconStyle:function(){var t=this.checkedColor||this.parent&&this.parent.checkedColor;if(t&&this.checked&&!this.isDisabled)return{borderColor:t,backgroundColor:t}},tabindex:function(){return this.isDisabled||"radio"===c&&!this.checked?-1:0}},methods:{onClick:function(t){var i=this.$refs.label,e=t.target,a=i&&(i===e||i.contains(e));this.isDisabled||a&&this.labelDisabled||this.toggle(),this.$emit("click",t)}},render:function(){var t=arguments[0],i=this.slots,n=this.checked,o=i("icon",{checked:n})||t(a["a"],{attrs:{name:"success"},style:this.iconStyle}),r=i()&&t("span",{ref:"label",class:e("label",[this.labelPosition,{disabled:this.isDisabled}])},[i()]),d=this.iconSize||this.parent&&this.parent.iconSize,l=[t("div",{class:e("icon",[this.shape,{disabled:this.isDisabled,checked:n}]),style:{fontSize:Object(s["a"])(d)}},[o])];return"left"===this.labelPosition?l.unshift(r):l.push(r),t("div",{attrs:{role:c,tabindex:this.tabindex,"aria-checked":String(this.checked)},class:e(),on:{click:this.onClick}},[l])}}}},"0b19":function(t,i,e){"use strict";var a=e("029f"),n=e.n(a);n.a},2381:function(t,i,e){},"3b42":function(t,i,e){},"3c32":function(t,i,e){"use strict";e("68ef"),e("09fe"),e("2381")},"417e":function(t,i,e){"use strict";var a=e("d282"),n=e("0a26"),s=Object(a["a"])("checkbox"),c=s[0],o=s[1];i["a"]=c({mixins:[Object(n["a"])({bem:o,role:"checkbox",parent:"vanCheckbox"})],computed:{checked:{get:function(){return this.parent?-1!==this.parent.value.indexOf(this.name):this.value},set:function(t){this.parent?this.setParentValue(t):this.$emit("input",t)}}},watch:{value:function(t){this.$emit("change",t)}},methods:{toggle:function(t){var i=this;void 0===t&&(t=!this.checked),clearTimeout(this.toggleTask),this.toggleTask=setTimeout((function(){i.checked=t}))},setParentValue:function(t){var i=this.parent,e=i.value.slice();if(t){if(i.max&&e.length>=i.max)return;-1===e.indexOf(this.name)&&(e.push(this.name),i.$emit("input",e))}else{var a=e.indexOf(this.name);-1!==a&&(e.splice(a,1),i.$emit("input",e))}}}})},"48f4":function(t,i,e){"use strict";function a(t,i){var e=i.to,a=i.url,n=i.replace;if(e&&t){var s=t[n?"replace":"push"](e);s&&s.catch&&s.catch((function(t){if(t&&"NavigationDuplicated"!==t.name)throw t}))}else a&&(n?location.replace(a):location.href=a)}function n(t){a(t.parent&&t.parent.$router,t.props)}e.d(i,"b",(function(){return a})),e.d(i,"a",(function(){return n})),e.d(i,"c",(function(){return s}));var s={url:String,replace:Boolean,to:[String,Object]}},5344:function(t,i,e){"use strict";var a,n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"card",on:{click:function(i){return t.myclick()}}},[e("div",{staticClass:"order"},[e("span",{staticClass:"orderNum"},[t._v(t._s("订单号："+t.carddata.orderNum))]),e("div",{staticClass:"checkbox",staticStyle:{width:"6vw",height:"6vw","z-index":"100",opacity:"0"}}),e("van-checkbox",{staticClass:"checkbox",staticStyle:{"z-index":"1"},attrs:{disabled:t.checkable},model:{value:t.carddata.checked,callback:function(i){t.$set(t.carddata,"checked",i)},expression:"carddata.checked"}})],1),e("div",{staticClass:"start"},[e("span",{staticClass:"address"},[t._v(t._s(t.carddata.from))])]),t._m(0),e("div",{staticClass:"end"},[e("span",{staticClass:"address"},[t._v(t._s(t.carddata.to))])]),e("van-divider",{staticStyle:{margin:"0"}}),e("div",{staticClass:"data"},[e("span",[t._v("运单号："+t._s(t.carddata.courierNumber))]),e("span",{staticClass:"price"},[t._v(t._s("￥"+t.carddata.price))])])],1)},s=[function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"arrow"},[a("img",{attrs:{src:e("96b9")}})])}],c=e("bd86"),o=(e("3c32"),e("417e")),r=(e("7f7f"),e("2b28"),e("9ed2")),d={name:"SettleCard",props:["carddata","checkable"],data:function(){return{}},components:(a={},Object(c["a"])(a,r["a"].name,r["a"]),Object(c["a"])(a,o["a"].name,o["a"]),a),methods:{myclick:function(){this.checkable||this.$emit("cardClick",this.carddata.index)}}},l=d,u=(e("0b19"),e("2877")),h=Object(u["a"])(l,n,s,!1,null,"3ece5bf4",null);i["a"]=h.exports},"7df6":function(t,i,e){"use strict";var a=e("0738"),n=e.n(a);n.a},b1d2:function(t,i,e){"use strict";e.d(i,"g",(function(){return a})),e.d(i,"d",(function(){return s})),e.d(i,"b",(function(){return c})),e.d(i,"a",(function(){return o})),e.d(i,"c",(function(){return r})),e.d(i,"e",(function(){return d})),e.d(i,"f",(function(){return l}));var a="#fff",n="van-hairline",s=n+"--top",c=n+"--left",o=n+"--bottom",r=n+"--surround",d=n+"--top-bottom",l=n+"-unset--top-bottom"},b650:function(t,i,e){"use strict";var a=e("c31d"),n=e("2638"),s=e.n(n),c=e("d282"),o=e("ba31"),r=e("b1d2"),d=e("48f4"),l=e("ad06"),u=e("543e"),h=Object(c["a"])("button"),f=h[0],b=h[1];function p(t,i,e,a){var n,c=i.tag,h=i.icon,f=i.type,p=i.color,g=i.plain,m=i.disabled,v=i.loading,k=i.hairline,L=i.loadingText,x={};function y(t){v||m||(Object(o["a"])(a,"click",t),Object(d["a"])(a))}function S(t){Object(o["a"])(a,"touchstart",t)}p&&(x.color=g?p:r["g"],g||(x.background=p),-1!==p.indexOf("gradient")?x.border=0:x.borderColor=p);var C=[b([f,i.size,{plain:g,disabled:m,hairline:k,block:i.block,round:i.round,square:i.square}]),(n={},n[r["c"]]=k,n)];function O(){var a,n=[];return v?n.push(t(u["a"],{class:b("loading"),attrs:{size:i.loadingSize,type:i.loadingType,color:"currentColor"}})):h&&n.push(t(l["a"],{attrs:{name:h},class:b("icon")})),a=v?L:e.default?e.default():i.text,a&&n.push(t("span",{class:b("text")},[a])),n}return t(c,s()([{style:x,class:C,attrs:{type:i.nativeType,disabled:m},on:{click:y,touchstart:S}},Object(o["b"])(a)]),[O()])}p.props=Object(a["a"])({},d["c"],{text:String,icon:String,color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,nativeType:String,loadingText:String,loadingType:String,tag:{type:String,default:"button"},type:{type:String,default:"default"},size:{type:String,default:"normal"},loadingSize:{type:String,default:"20px"}}),i["a"]=f(p)},be39:function(t,i,e){"use strict";e("68ef"),e("09fe"),e("3b42")},d9c6:function(t,i,e){"use strict";e.r(i);var a,n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"main",attrs:{id:"carCard"}},[e("div",{staticClass:"main-mid"},[e("van-pull-refresh",{on:{refresh:function(i){return t.Refresh()}},model:{value:t.isLoading,callback:function(i){t.isLoading=i},expression:"isLoading"}},[e("van-list",{attrs:{finished:t.finished,"finished-text":t.finishedtxt,"immediate-check":!1},on:{load:function(i){return t.getShowData()}},model:{value:t.loading,callback:function(i){t.loading=i},expression:"loading"}},t._l(t.showList,(function(i,a){return e("div",{key:a},[e("settle-card",{attrs:{carddata:i,checkable:t.submitLoading},on:{cardClick:t.cardClick}})],1)})),0)],1)],1),e("van-submit-bar",{attrs:{price:t.price,"button-text":"上传发票",label:"已选金额：",loading:t.submitLoading},on:{submit:function(i){return t.submitClick()}}},[e("van-checkbox",{staticStyle:{"margin-left":"12px"},attrs:{disabled:t.submitLoading},on:{click:t.allClick},model:{value:t.checked,callback:function(i){t.checked=i},expression:"checked"}},[t._v("多选")])],1)],1)},s=[],c=e("75fc"),o=(e("e7e5"),e("d399")),r=e("bd86"),d=(e("2994"),e("2bdd")),l=(e("2b28"),e("9ed2")),u=(e("ab71"),e("58e6")),h=(e("be39"),e("efa0")),f=(e("7f7f"),e("3c32"),e("417e")),b=e("5344"),p=e("7b60"),g={name:"Uninvoice",components:(a={},Object(r["a"])(a,f["a"].name,f["a"]),Object(r["a"])(a,h["a"].name,h["a"]),Object(r["a"])(a,"settle-card",b["a"]),Object(r["a"])(a,u["a"].name,u["a"]),Object(r["a"])(a,l["a"].name,l["a"]),Object(r["a"])(a,d["a"].name,d["a"]),a),data:function(){return{applyId:"",dataList:[],showList:[],checked:!1,submitLoading:!1,finished:!1,isLoading:!1,loading:!1,finishedtxt:"我是有底线的",pageNo:1,submitList:[]}},computed:{price:function(){for(var t=0,i=0;i<this.showList.length;i++)this.showList[i].checked&&(t+=100*this.showList[i].price);return t},pageCount:function(){return Math.ceil(this.dataList.length/20)}},created:function(){this.getData()},methods:{cardClick:function(t){if(this.submitList.length>=20&&0==this.showList[t].checked)Object(o["a"])("最多选择20条");else if(this.showList[t].checked=!this.showList[t].checked,"-1"==this.submitList.indexOf(t)?this.submitList.push(t):this.submitList.splice(this.submitList.indexOf(t),1),this.checked){for(var i=0;i<this.showList.length;i++)if(this.showList[i].checked!=this.checked)return void(this.checked=!1)}else 20==this.submitList.length&&(this.checked=!0)},allClick:function(){if(!this.submitLoading){this.checked=!this.checked;for(var t=0;t<this.submitList.length;t++)this.showList[this.submitList[t]].checked=!1;if(this.submitList=[],this.checked)for(var i=0;i<Math.min(this.showList.length,20);i++)this.showList[i].checked=!0,this.submitList.push(i)}},submitClick:function(){if(0!=this.price){for(var t="",i=0;i<this.submitList.length;i++)t+=0==i?this.dataList[this.submitList[i]].id:",".concat(this.dataList[this.submitList[i]].id);this.$store.commit("invoice/updateId",t),this.$router.push({path:"/upInvoice",query:{fileApplyID:this.applyId,price:this.price/100}})}else Object(o["a"])("请选择上传发票的订单")},getShowData:function(){var t=this;if(this.loading=!0,this.pageNo>this.pageCount)return 1==this.pageNo&&1==this.pageCount?(this.showList=Object(c["a"])(this.dataList),this.loading=!1,void(this.finished=!0)):(this.loading=!1,void(this.finished=!0));setTimeout((function(){if(!(t.dataList.length>20))return t.showList=Object(c["a"])(t.dataList),t.loading=!1,void(t.finished=!0);t.showList=t.dataList.slice(0,20*t.pageNo),t.pageNo++,t.loading=!1}),1e3)},getData:function(){var t=this,i={transCorpID:71536};this.$api.post(p["a"].unVoice,i).then((function(i){if("200"==i.data.code){console.log(i),t.applyId=i.data.msg;var e=Object(c["a"])(i.data.data);t.showList=[];for(var a=0;a<e.length;a++){var n={orderNum:e[a].orderID||e[a].allBillNo,checked:!1,index:a,id:e[a].id,from:e[a].startAddr,to:e[a].endPlace,courierNumber:e[a].allBillNo,price:e[a].applyMoney};t.dataList.push(n)}t.getShowData(),o["a"].clear()}})).catch((function(i){t.loading=!1,t.finished=!0,t.finishedtxt="网络错误，暂无数据"}))},Refresh:function(){var t=this;this.submitList=[],this.$api.post(p["a"].unVoice,{transCorpID:71536}).then((function(i){if("200"==i.data.code){t.pageNo=1,t.checked=!1;var e=Object(c["a"])(i.data.data);t.dataList=[],t.showList=[];for(var a=0;a<e.length;a++){var n={orderNum:e[a].orderID||e[a].allBillNo,checked:!1,index:a,id:e[a].id,from:e[a].startAddr,to:e[a].endPlace,courierNumber:e[a].allBillNo,price:e[a].applyMoney};t.dataList.push(n)}}t.getShowData(),t.isLoading=!1,t.finished=!1})).catch((function(i){t.isLoading=!1,t.finishedtxt="网络错误，暂无数据"}))}}},m=g,v=(e("7df6"),e("2877")),k=Object(v["a"])(m,n,s,!1,null,"53a61f17",null);i["default"]=k.exports},efa0:function(t,i,e){"use strict";var a=e("2638"),n=e.n(a),s=e("d282"),c=e("ba31"),o=e("b650"),r=e("ad06"),d=Object(s["a"])("submit-bar"),l=d[0],u=d[1],h=d[2];function f(t,i,e,a){var s=i.tip,d=i.price,l=i.tipIcon;function f(){if("number"===typeof d){var e=i.currency+" "+(d/100).toFixed(i.decimalLength);return t("div",{class:u("text")},[t("span",[i.label||h("label")]),t("span",{class:u("price")},[e]),i.suffixLabel&&t("span",{class:u("suffix-label")},[i.suffixLabel])])}}function b(){if(e.tip||s)return t("div",{class:u("tip")},[l&&t(r["a"],{class:u("tip-icon"),attrs:{name:l}}),s&&t("span",{class:u("tip-text")},[s]),e.tip&&e.tip()])}return t("div",n()([{class:u({"safe-area-inset-bottom":i.safeAreaInsetBottom})},Object(c["b"])(a)]),[e.top&&e.top(),b(),t("div",{class:u("bar")},[e.default&&e.default(),f(),t(o["a"],{attrs:{square:!0,size:"large",type:i.buttonType,loading:i.loading,disabled:i.disabled,text:i.loading?"":i.buttonText},class:u("button"),on:{click:function(){Object(c["a"])(a,"submit")}}})])])}f.props={tip:String,label:String,price:Number,tipIcon:String,loading:Boolean,disabled:Boolean,buttonText:String,suffixLabel:String,safeAreaInsetBottom:Boolean,decimalLength:{type:Number,default:2},currency:{type:String,default:"¥"},buttonType:{type:String,default:"danger"}},i["a"]=l(f)}}]);