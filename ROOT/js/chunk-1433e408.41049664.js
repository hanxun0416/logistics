(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1433e408"],{"4b09":function(a,e,t){},c153:function(a,e,t){"use strict";var s=t("4b09"),i=t.n(s);i.a},d9cf:function(a,e,t){"use strict";t.r(e);var s,i=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"real",attrs:{id:"real"}},[t("div",{staticClass:"real-mid"},[t("h4",[a._v("公司信息")]),t("van-divider",{staticStyle:{margin:"0",height:"2px"},attrs:{borderColor:"#E6E6E6",hairline:""}}),t("div",{staticClass:"real-mid-field"},[t("van-field",{ref:"corp",staticClass:"real-mid-field-inp",attrs:{label:"公司名称",placeholder:"请输入公司名称",type:"text",clearable:"",name:"applyTrans.corp",required:""},model:{value:a.applyTrans.corp,callback:function(e){a.$set(a.applyTrans,"corp",e)},expression:"applyTrans.corp"}}),t("van-field",{staticClass:"real-mid-field-inp",attrs:{label:"公司税号",placeholder:"请输入公司税号",type:"text",clearable:"",name:"custMap.taxNo",required:""},model:{value:a.custMap.taxNo,callback:function(e){a.$set(a.custMap,"taxNo",e)},expression:"custMap.taxNo"}}),t("van-field",{staticClass:"real-mid-field-inp real-mid-field-bom",attrs:{readonly:"",clickable:"",label:"注册地址",value:a.carmodel,placeholder:"省/市/区",required:""},on:{click:function(e){a.isShow=!0}}}),t("van-popup",{attrs:{position:"bottom"},model:{value:a.isShow,callback:function(e){a.isShow=e},expression:"isShow"}},[t("van-area",{attrs:{"area-list":a.areaList,"columns-placeholder":["请选择","请选择","请选择"],"columns-num":3},on:{confirm:a.changeAddress,cancel:function(e){a.isShow=!1}}})],1),t("van-field",{staticClass:"real-mid-field-inp",attrs:{label:"",placeholder:"请输入详细地址",type:"text",clearable:"",required:""},model:{value:a.custMap.real_Addr,callback:function(e){a.$set(a.custMap,"real_Addr",e)},expression:"custMap.real_Addr"}}),t("van-field",{staticClass:"real-mid-field-inp real-mid-field-bom",attrs:{readonly:"",clickable:"",label:"联系地址",value:a.carmodel1,placeholder:"省/市/区",required:""},on:{click:function(e){a.isShow3=!0}}}),t("van-popup",{attrs:{position:"bottom"},model:{value:a.isShow3,callback:function(e){a.isShow3=e},expression:"isShow3"}},[t("van-area",{attrs:{"area-list":a.areaList,"columns-placeholder":["请选择","请选择","请选择"],"columns-num":3},on:{confirm:a.changeAddress1,cancel:function(e){a.isShow=!1}}})],1),t("van-field",{staticClass:"real-mid-field-inp",attrs:{label:"",placeholder:"请输入详细地址",type:"text",clearable:"",required:""},model:{value:a.applyTrans.corpAddress,callback:function(e){a.$set(a.applyTrans,"corpAddress",e)},expression:"applyTrans.corpAddress"}}),t("van-field",{staticClass:"real-mid-field-inp",attrs:{label:"开户银行",placeholder:"请输入开户银行",type:"text",name:"applyTrans.bankAccount",clearable:"",required:""},model:{value:a.applyTrans.bankAccount,callback:function(e){a.$set(a.applyTrans,"bankAccount",e)},expression:"applyTrans.bankAccount"}}),t("van-field",{staticClass:"real-mid-field-inp",attrs:{label:"银行账号",placeholder:"请输入银行账号",type:"text",name:"applyTrans.accountNo",clearable:"",required:""},model:{value:a.applyTrans.accountNo,callback:function(e){a.$set(a.applyTrans,"accountNo",e)},expression:"applyTrans.accountNo"}})],1)],1),t("div",{staticClass:"real-mid"},[t("van-row",{attrs:{type:"flex",justify:"space-between"}},[t("van-col",{staticClass:"real-mid-left",attrs:{span:"12"}},[a._v("入驻附件上传")]),t("van-col",{staticClass:"real-mid-right",attrs:{span:"12"}},[a._v("注：请上传8M内的图片")])],1),t("van-divider",{staticStyle:{margin:"0",height:"2px"},attrs:{borderColor:"#E6E6E6",hairline:""}}),t("div",{staticClass:"real-mid-field"},[t("div",{staticClass:"real-mid-field-upload"},[t("h5",[a._v("开户资料")]),t("van-uploader",{attrs:{"max-count":10,"upload-text":"添加图片",multiple:""},on:{oversize:a.oversize},model:{value:a.trad1,callback:function(e){a.trad1=e},expression:"trad1"}}),t("div",{staticClass:"maxsize"},[a._v("注:最多添加10张")])],1),t("div",{staticClass:"real-mid-field-upload"},[t("h5",[a._v("运输资质证件/货运代理资格证书")]),t("van-uploader",{attrs:{"max-count":10,multiple:"","upload-text":"添加图片"},on:{oversize:a.oversize},model:{value:a.trad2,callback:function(e){a.trad2=e},expression:"trad2"}}),t("div",{staticClass:"maxsize"},[a._v("注:最多添加10张")])],1),t("div",{staticClass:"real-mid-field-upload"},[t("h5",[a._v("车辆行驶证")]),t("van-uploader",{attrs:{"max-count":20,"upload-text":"添加图片",multiple:""},on:{oversize:a.oversize},model:{value:a.trad3,callback:function(e){a.trad3=e},expression:"trad3"}}),t("div",{staticClass:"maxsize"},[a._v("注:最多添加20张")])],1),a.isRealName?t("div",{staticClass:"real-mid-field-upload"},[t("van-row",{attrs:{type:"flex",justify:"space-between"}},[t("van-col",{staticClass:"real-mid-field-upload-left1",attrs:{span:"12"}},[a._v("实名认证授权书")]),t("van-col",{staticClass:"real-mid-field-upload-right1 real-right",attrs:{span:"12"},on:{click:function(e){return a.downLoad(4)}}},[a._v("下载授权委托书")])],1),t("van-uploader",{attrs:{"max-count":10,"upload-text":"添加图片",multiple:""},on:{oversize:a.oversize},model:{value:a.trad5,callback:function(e){a.trad5=e},expression:"trad5"}}),t("div",{staticClass:"maxsize"},[a._v("注:最多添加10张")])],1):a._e(),t("div",{staticClass:"real-mid-field-upload"},[t("van-row",{attrs:{type:"flex",justify:"space-between"}},[t("van-col",{staticClass:"real-mid-field-upload-left1",attrs:{span:"12"}},[a._v("运输合同/订舱合同")]),t("van-col",{staticClass:"real-mid-field-upload-right1",attrs:{span:"12"},on:{click:function(e){return a.downLoad(1)}}},[a._v("下载运输合同")]),t("van-col",{staticClass:"real-mid-field-upload-right1",attrs:{span:"12"},on:{click:function(e){return a.downLoad(2)}}},[a._v("下载订舱合同")])],1),t("van-uploader",{attrs:{"max-count":10,"upload-text":"添加图片",multiple:""},on:{oversize:a.oversize},model:{value:a.trad4,callback:function(e){a.trad4=e},expression:"trad4"}}),t("div",{staticClass:"maxsize"},[a._v("注:最多添加10张")])],1)])],1),t("van-field",{staticClass:"real-mid-choose",attrs:{readonly:"",clickable:"",label:"选择现场评审人员",value:a.applyTrans.selectOperator,placeholder:"指定金牌商家/由平台分配",name:"applySupplier.selectOperator"},on:{click:function(e){a.isShow1=!0}}}),t("van-action-sheet",{attrs:{actions:a.actions,value:" ","cancel-text":"取消"},on:{select:a.onSelect},model:{value:a.isShow1,callback:function(e){a.isShow1=e},expression:"isShow1"}}),t("van-overlay",{attrs:{show:a.a}},[t("div",{staticClass:"wrapper"},[t("van-search",{attrs:{placeholder:"请输入搜索关键词","show-action":""},on:{cancel:a.clickLeft,input:a.sceneReview},model:{value:a.image.custName,callback:function(e){a.$set(a.image,"custName",e)},expression:"image.custName"}}),t("div",{staticClass:"sear"},a._l(a.imageList,(function(e){return t("div",{key:e.id,staticClass:"sear-card",on:{click:function(t){return a.clickHandle1(e.custName,e.custID)}}},[t("div",[t("span",{staticClass:"name"},[a._v(a._s(e.custName))]),a._v("—"),t("span",{staticClass:"dz"},[a._v(a._s(e.area))])]),t("van-icon",{attrs:{name:"success",color:"#666"}})],1)})),0)],1)]),t("van-button",{staticClass:"real-mid-field-btn",attrs:{type:"info"},on:{click:a.submit}},[a._v("提交注册评审")])],1)},l=[],r=(t("e7e5"),t("d399")),n=(t("e17f"),t("2241")),c=t("bd86"),p=(t("2cbd"),t("ab2c")),o=(t("5852"),t("d961")),d=(t("f1dc"),t("6e47")),u=(t("5f5f"),t("f253")),m=(t("e930"),t("8f80")),h=(t("c194"),t("7744")),f=(t("8a58"),t("e41f")),v=(t("db2c"),t("1125")),y=(t("2b28"),t("9ed2")),b=(t("5246"),t("6b41")),T=(t("81e6"),t("9ffb")),N=(t("4d48"),t("d1e1")),g=(t("66b9"),t("b650")),k=(t("c3a6"),t("ad06")),I=(t("7f7f"),t("be7f"),t("565f")),M=t("33eb"),D=t("bc3a"),x=t.n(D),C=t("7b60"),w=t("9955"),A={name:"realName",data:function(){return{url:"",mobile:"",areaList:{},isRealName:!0,isShow:!1,isShow1:!1,isShow2:!1,isShow3:!1,a:!1,trad1:[],trad2:[],trad3:[],trad4:[],trad5:[],carmodel:"",carmodel1:"",actions:[{name:"指定金牌商家"},{name:"由平台分配"}],applyName:"",applyTrans:{id:"",corp:"",custContact:"",custMobile:"",accountNo:"",bankAccount:"",provinceID:"",provinceName:"",cityID:"",cityName:"",areaID:"",areaName:"",corpAddress:"",isSelect:"0",selectOperatorID:"",selectOperator:""},custMap:{cardNO:"",taxNo:"",realProvinceID:"",realProvince:"",realCityID:"",realCity:"",realAreaID:"",realArea:"",real_Addr:"",fromUserName:"",fromUserId:""},image:{custName:""},imageList:[],token:""}},components:(s={},Object(c["a"])(s,I["a"].name,I["a"]),Object(c["a"])(s,k["a"].name,k["a"]),Object(c["a"])(s,g["a"].name,g["a"]),Object(c["a"])(s,N["a"].name,N["a"]),Object(c["a"])(s,T["a"].name,T["a"]),Object(c["a"])(s,b["a"].name,b["a"]),Object(c["a"])(s,y["a"].name,y["a"]),Object(c["a"])(s,v["a"].name,v["a"]),Object(c["a"])(s,f["a"].name,f["a"]),Object(c["a"])(s,h["a"].name,h["a"]),Object(c["a"])(s,m["a"].name,m["a"]),Object(c["a"])(s,u["a"].name,u["a"]),Object(c["a"])(s,d["a"].name,d["a"]),Object(c["a"])(s,o["a"].name,o["a"]),Object(c["a"])(s,p["a"].name,p["a"]),s),created:function(){var a=this;this.init(),this.$api.post(C["a"].reviewInfo).then((function(e){if(200==e.data.code){e.data.data.lastApplyTrans&&("0"==e.data.data.lastApplyTrans.permit&&(a.$router.push({name:"login"}),n["a"].alert({message:"正在进行审核中,请您耐心等待"}).then((function(){}))),"2"==e.data.data.lastApplyTrans.permit&&n["a"].alert({message:"您的审核未通过,请您重新申请"}));var t=e.data.data.custMap;a.applyTrans.corp=t.corp,a.applyTrans.accountNo=t.accountNo,a.applyTrans.bankAccount=t.bankofposit,a.custMap.taxNo=t.taxNo}a.mobile=e.data.data.custMap.mobile,a.applyTrans.id=e.data.data.applyID,a.applyName=e.data.data.applyRealNameID}));var e={tableNum:"1",nodeID:"27",applyID:this.applyName};this.$api.post(C["a"].queryFiles,e).then((function(e){if("200"==e.data.code&&e.data.data.fileList.length)for(var t=0;t<e.data.data.fileList.length;t++)a.trad5[t].content=e.data.data.fileList[t].fileUrl,a.trad5[t].fuke=e.data.data.fileList[t].showFileName}))},methods:{onClickLeft:function(){this.$router.go(-1)},init:function(){this.areaList=M["a"]},onSelect:function(a,e){var t=this;switch(e){case 0:this.a=!0,this.imageList=[];var s={"image.custName":null};x()({method:"post",url:C["a"].sceneReview,data:s}).then((function(a){t.imageList=a.data.data.imageList}));break;case 1:this.applyTrans.selectOperator=a.name,this.applyTrans.selectOperatorId="",this.applyTrans.isSelect="0";break}this.isShow1=!1},clickHandle1:function(a,e){this.applyTrans.isSelect="1",this.applyTrans.selectOperatorID=e,this.applyTrans.selectOperator=a,this.imageList=[],this.image.custName="",this.a=!1},sceneReview:function(){var a=this;if(""!=this.image.custName.trim()){var e={"image.custName":this.image.custName};x()({method:"post",url:C["a"].sceneReview,data:e}).then((function(e){a.imageList=e.data.data.imageList}))}else{this.imageList=[];var t={"image.custName":""};x()({method:"post",url:C["a"].sceneReview,data:t}).then((function(e){a.imageList=e.data.data.imageList}))}},changeAddress:function(a){for(var e="",t=0;t<a.length;t++){if(!a[t].name)break;0==t&&(this.custMap.realProvinceID,this.custMap.realProvince,this.custMap.realProvinceID=a[t].code,this.custMap.realProvince=a[t].name),1==t&&(this.custMap.realCityID,this.custMap.realCity,this.custMap.realCityID=a[t].code,this.custMap.realCity=a[t].name),2==t&&(this.custMap.realAreaID,this.custMap.realArea,this.custMap.realAreaID=a[t].code,this.custMap.realArea=a[t].name),e+=a[t].name+" "}this.carmodel=e,this.isShow=!1},changeAddress1:function(a){for(var e="",t=0;t<a.length;t++){if(!a[t].name)break;0==t&&(this.applyTrans.provinceID,this.applyTrans.provinceName,this.applyTrans.provinceID=a[t].code,this.applyTrans.provinceName=a[t].name),1==t&&(this.applyTrans.cityID,this.applyTrans.cityName,this.applyTrans.cityID=a[t].code,this.applyTrans.cityName=a[t].name),2==t&&(this.applyTrans.areaID,this.applyTrans.areaName,this.applyTrans.areaID=a[t].code,this.applyTrans.areaName=a[t].name),e=e+a[t].name+" "}this.carmodel1=e,this.isShow3=!1},submit:function(){var a=this;if(""!=this.applyTrans.corp.trim())if(""!=this.custMap.taxNo.trim())if(""!=this.applyTrans.accountNo.trim())if(""!=this.applyTrans.bankAccount.trim())if(""!=this.applyTrans.areaName.trim()&&""!=this.custMap.realArea.trim()&&""!=this.applyTrans.corpAddress&&""!=this.custMap.real_Addr.trim())if(""!=this.applyTrans.selectOperator.trim())if(this.trad1.length&&this.trad2.length&&this.trad3.length&&this.trad4.length)if(!this.isRealName||this.trad5.length){r["a"].loading("正在提交申请，请稍等...");for(var e=[],t=0;t<this.trad1.length;t++){var s={content:this.trad1[t].content,fileName:this.trad1[t].file.name,nodeID:"1",tabletdID:"10",sceneType:"12",tableName:"lg_pickbillmain",fileGUID:this.applyName};e.push(s)}for(var i=0;i<this.trad2.length;i++){var l={content:this.trad2[i].content,fileName:this.trad2[i].file.name,nodeID:"1",tabletdID:"13",sceneType:"2",tableName:"lg_pickbillmain",fileGUID:this.applyName};e.push(l)}for(var n=0;n<this.trad3.length;n++){var c={content:this.trad3[n].content,fileName:this.trad3[n].file.name,nodeID:"1",tabletdID:"3",sceneType:"2",tableName:"lg_pickbillmain",fileGUID:this.applyName};e.push(c)}for(var p=0;p<this.trad4.length;p++){var o={content:this.trad4[p].content,fileName:this.trad4[p].file.name,nodeID:"1",tabletdID:"6",sceneType:"2",tableName:"lg_pickbillmain",fileGUID:this.applyName};e.push(o)}if(this.isRealName)for(var d=0;d<this.trad5.length;d++){var u={content:this.trad5[d].content,fileName:this.trad5[d].file.name,nodeID:"1",tabletdID:"27",sceneType:"2",tableName:"lg_pickbillmain",fileGUID:this.applyName};e.push(u)}var m={imgList:e,applyID:this.applyName,tableName:"lg_transbillmain"};this.$api.post(C["a"].upLoadImg,m).then((function(e){"201"==e.data.code&&a.upload()}))}else r["a"].fail("请上传实名认证授权书!");else r["a"].fail("请上传合同！");else r["a"].fail("请选择评审人员！");else r["a"].fail("请输入地址!");else r["a"].fail("请输入开户银行!");else r["a"].fail("请输入开户账号!");else r["a"].fail("请输入公司税号！");else r["a"].fail("请输入公司名称！")},upload:function(){var a=this;"1"==this.applyTrans.isSelect?this.applyTrans.selectOperator:this.applyTrans.selectOperator="";var e={"applyRealName.ID":this.applyName,"applyTrans.id":this.applyTrans.id,"applyTrans.corp":this.applyTrans.corp,"applyTrans.accountNo":this.applyTrans.accountNo,"applyTrans.bankAccount":this.applyTrans.bankAccount,"applyTrans.provinceID":this.applyTrans.provinceID,"applyTrans.provinceName":this.applyTrans.provinceName,"applyTrans.cityID":this.applyTrans.cityID,"applyTrans.cityName":this.applyTrans.cityName,"applyTrans.areaID":this.applyTrans.areaID,"applyTrans.areaName":this.applyTrans.areaName,"applyTrans.corpAddress":this.applyTrans.corpAddress,"applyTrans.isSelect":this.applyTrans.isSelect,"applyTrans.selectOperatorID":this.applyTrans.selectOperatorID,"applyTrans.selectOperator":this.applyTrans.selectOperator,"custMap.taxNo":this.custMap.taxNo,"custMap.realProvinceID":this.custMap.realProvinceID,"custMap.realProvince":this.custMap.realProvince,"custMap.realCityID":this.custMap.realCityID,"custMap.realCity":this.custMap.realCity,"custMap.realAreaID":this.custMap.realAreaID,"custMap.realArea":this.custMap.realArea,"custMap.real_Addr":this.custMap.real_Addr};this.$api.post(C["a"].realName,e).then((function(e){"200"==e.data.code&&(e.data.data.status?(r["a"].success("申请成功，请您耐心等候申请结果"),setTimeout((function(){a.$router.push({name:"login"})}),3e3)):r["a"].fail("申请失败，请仔细核对您的申请信息")),"405"==e.data.code&&(r["a"].fail(e.data.data.msg),setTimeout((function(){a.$router.push({name:"login"})}),3e3))})).catch((function(a){r["a"].clear()}))},oversize:function(a){Object(r["a"])("请上传8M大小以内的图片")},clickLeft:function(){this.imageList=[],this.image.custName="",this.isShow2=!1,this.a=!1},downLoad:function(a){var e=this;"4"==a?r["a"].loading("实名认证授权委托书生成中,请稍等..."):r["a"].loading("合同生成中,请稍等...");var t={type:a,"custMap.cust":this.applyTrans.corp,"custMap.contact":this.applyTrans.custContact,"custMap.mobile":this.mobile,"custMap.reg_Addr":this.custMap.real_Addr,"custMap.bankofposit":this.applyTrans.bankAccount,"custMap.accountNo":this.applyTrans.accountNo,"custMap.taxNo":this.custMap.taxNo,"custMap.cardNO":this.custMap.cardNO,"custMap.contactTel":this.applyTrans.custMobile},s="";switch(a){case 1:s="运输合同";break;case 2:s="订舱合同";break;case 3:s="订舱合同(空运)";break;case 4:s="实名认证授权委托书";break}this.$api.post(C["a"].downloadContract,t).then((function(a){if("200"==a.data.code){var t=Object(w["a"])(a.data.data.imgStr,s);t.flag?e.$router.push({name:"img",query:{url:t.url,name:s}}):r["a"].fail("生成失败，请重试")}else a.data.code,r["a"].fail(a.data.msg)}))}}},_=A,O=(t("c153"),t("2877")),S=Object(O["a"])(_,i,l,!1,null,"0c4aa5cb",null);e["default"]=S.exports}}]);