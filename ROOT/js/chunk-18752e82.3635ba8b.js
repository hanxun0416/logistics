(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-18752e82"],{5385:function(a,t,i){},b232:function(a,t,i){"use strict";i.r(t);var n,e=function(){var a=this,t=a.$createElement,n=a._self._c||t;return n("div",{staticClass:"main"},[n("div",{staticClass:"main-head"},[n("img",{attrs:{src:i("ced1")},on:{click:function(t){return a.toMine()}}})]),n("div",{staticClass:"main-mid"},[n("van-tabs",{attrs:{swipeable:"",animated:"",sticky:""},on:{change:a.tabchange},model:{value:a.active,callback:function(t){a.active=t},expression:"active"}},[n("van-tab",{attrs:{title:"待报价"}},[n("van-pull-refresh",{on:{refresh:function(t){return a.Refresh(0)}},model:{value:a.isLoading,callback:function(t){a.isLoading=t},expression:"isLoading"}},[n("van-list",{attrs:{finished:a.finished[0],"finished-text":a.finishedtxt},on:{load:function(t){return a.onLoad(0)}},model:{value:a.loading,callback:function(t){a.loading=t},expression:"loading"}},a._l(a.dataList[0],(function(a,t){return n("div",{key:t},[n("offer-card",{attrs:{carddata:a,active:!1}})],1)})),0)],1)],1),n("van-tab",{attrs:{title:"已报价"}},[n("van-pull-refresh",{on:{refresh:function(t){return a.Refresh(1)}},model:{value:a.isLoading,callback:function(t){a.isLoading=t},expression:"isLoading"}},[n("van-list",{attrs:{finished:a.finished[1],"finished-text":a.finishedtxt},on:{load:function(t){return a.onLoad(1)}},model:{value:a.loading,callback:function(t){a.loading=t},expression:"loading"}},a._l(a.dataList[1],(function(a,t){return n("div",{key:t},[n("offer-card",{attrs:{carddata:a,active:!0}})],1)})),0)],1)],1)],1)],1)])},s=[],o=i("75fc"),d=i("bd86"),r=(i("68ef"),i("ae9e"),i("3104")),c=(i("2994"),i("2bdd")),f=(i("2b28"),i("9ed2")),h=(i("ab71"),i("58e6")),l=(i("bda7"),i("5e46")),u=(i("7f7f"),i("da3c"),i("0b33")),g=i("2a5c"),p=i("7b60"),v={name:"offer",data:function(){return{active:0,isLoading:!1,finishedtxt:"我是有底线的",dataList:[[],[]],finished:[!1,!1],loading:!1,page:[{pageNo:1,pageCount:0},{pageNo:1,pageCount:0}]}},components:(n={},Object(d["a"])(n,u["a"].name,u["a"]),Object(d["a"])(n,l["a"].name,l["a"]),Object(d["a"])(n,h["a"].name,h["a"]),Object(d["a"])(n,f["a"].name,f["a"]),Object(d["a"])(n,"offer-card",g["a"]),Object(d["a"])(n,c["a"].name,c["a"]),Object(d["a"])(n,r["a"].name,r["a"]),n),activated:function(){(this.$route.params.active||0==this.$route.params.active)&&this.Refresh(this.$route.params.active)},methods:{Refresh:function(a){var t=this;this.$api.post(p["a"].getOffer,{permit:a,transCorpID:71536}).then((function(i){"200"==i.data.code&&(t.$set(t.dataList,a,Object(o["a"])(i.data.data.transBillMains)),t.isLoading=!1,t.finished[a]=!0)})).catch((function(a){t.isLoading=!1,t.finishedtxt="网络错误，暂无数据"}))},tabchange:function(a,t){this.finished[a]&&(0==this.page[a].pageCount||this.page[a].pageCount>this.page[a].pageNo)&&(this.finished[a]=!1);for(var i=0;i<this.finished.length;i++)i!=a&&(this.finished[i]=!0);this.loading=!1,this.isLoading=!1},onLoad:function(a){var t=this;if(this.isLoading||this.finished[a]||this.dataList[a].length<20&&this.dataList[a].length>0)return this.finished[a]=!0,void(this.loading=!1);this.loading=!0;var i={permit:a,transCorpID:71536,pageNo:this.page[a].pageNo};this.$api.post(p["a"].getOffer,i).then((function(i){if("200"==i.data.code){t.page[a].pageCount=i.data.data.pageCount,t.page[a].pageNo++;for(var n=0;n<i.data.data.transBillMains.length;n++)t.dataList[a].push(i.data.data.transBillMains[n]);t.loading=!1,t.dataList[a].length/20>=t.page[a].pageCount-1&&(t.finished[a]=!0)}})).catch((function(i){t.loading=!1,t.finished[a]=!0,t.finishedtxt="网络错误，暂无数据"}))},toMine:function(){this.$router.push("/mine")}}},b=v,m=(i("da92"),i("2877")),L=Object(m["a"])(b,e,s,!1,null,"4bf5437f",null);t["default"]=L.exports},da92:function(a,t,i){"use strict";var n=i("5385"),e=i.n(n);e.a}}]);