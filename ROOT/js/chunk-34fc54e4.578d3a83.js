(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-34fc54e4"],{"029f":function(t,e,i){},"0a26":function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var a=i("ad06"),n=i("9884"),s=i("ea8e"),c=function(t){var e=t.parent,i=t.bem,c=t.role;return{mixins:[Object(n["a"])(e)],props:{name:null,value:null,disabled:Boolean,iconSize:[Number,String],checkedColor:String,labelPosition:String,labelDisabled:Boolean,shape:{type:String,default:"round"},bindGroup:{type:Boolean,default:!0}},computed:{disableBindRelation:function(){return!this.bindGroup},isDisabled:function(){return this.parent&&this.parent.disabled||this.disabled},iconStyle:function(){var t=this.checkedColor||this.parent&&this.parent.checkedColor;if(t&&this.checked&&!this.isDisabled)return{borderColor:t,backgroundColor:t}},tabindex:function(){return this.isDisabled||"radio"===c&&!this.checked?-1:0}},methods:{onClick:function(t){var e=this.$refs.label,i=t.target,a=e&&(e===i||e.contains(i));this.isDisabled||a&&this.labelDisabled||this.toggle(),this.$emit("click",t)}},render:function(){var t=arguments[0],e=this.slots,n=this.checked,r=e("icon",{checked:n})||t(a["a"],{attrs:{name:"success"},style:this.iconStyle}),o=e()&&t("span",{ref:"label",class:i("label",[this.labelPosition,{disabled:this.isDisabled}])},[e()]),d=this.iconSize||this.parent&&this.parent.iconSize,l=[t("div",{class:i("icon",[this.shape,{disabled:this.isDisabled,checked:n}]),style:{fontSize:Object(s["a"])(d)}},[r])];return"left"===this.labelPosition?l.unshift(o):l.push(o),t("div",{attrs:{role:c,tabindex:this.tabindex,"aria-checked":String(this.checked)},class:i(),on:{click:this.onClick}},[l])}}}},"0b19":function(t,e,i){"use strict";var a=i("029f"),n=i.n(a);n.a},2381:function(t,e,i){},"3b42":function(t,e,i){},"3c32":function(t,e,i){"use strict";i("68ef"),i("09fe"),i("2381")},"417e":function(t,e,i){"use strict";var a=i("d282"),n=i("0a26"),s=Object(a["a"])("checkbox"),c=s[0],r=s[1];e["a"]=c({mixins:[Object(n["a"])({bem:r,role:"checkbox",parent:"vanCheckbox"})],computed:{checked:{get:function(){return this.parent?-1!==this.parent.value.indexOf(this.name):this.value},set:function(t){this.parent?this.setParentValue(t):this.$emit("input",t)}}},watch:{value:function(t){this.$emit("change",t)}},methods:{toggle:function(t){var e=this;void 0===t&&(t=!this.checked),clearTimeout(this.toggleTask),this.toggleTask=setTimeout((function(){e.checked=t}))},setParentValue:function(t){var e=this.parent,i=e.value.slice();if(t){if(e.max&&i.length>=e.max)return;-1===i.indexOf(this.name)&&(i.push(this.name),e.$emit("input",i))}else{var a=i.indexOf(this.name);-1!==a&&(i.splice(a,1),e.$emit("input",i))}}}})},"48f4":function(t,e,i){"use strict";function a(t,e){var i=e.to,a=e.url,n=e.replace;if(i&&t){var s=t[n?"replace":"push"](i);s&&s.catch&&s.catch((function(t){if(t&&"NavigationDuplicated"!==t.name)throw t}))}else a&&(n?location.replace(a):location.href=a)}function n(t){a(t.parent&&t.parent.$router,t.props)}i.d(e,"b",(function(){return a})),i.d(e,"a",(function(){return n})),i.d(e,"c",(function(){return s}));var s={url:String,replace:Boolean,to:[String,Object]}},5344:function(t,e,i){"use strict";var a,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"card",on:{click:function(e){return t.myclick()}}},[i("div",{staticClass:"order"},[i("span",{staticClass:"orderNum"},[t._v(t._s("订单号："+t.carddata.orderNum))]),i("div",{staticClass:"checkbox",staticStyle:{width:"6vw",height:"6vw","z-index":"100",opacity:"0"}}),i("van-checkbox",{staticClass:"checkbox",staticStyle:{"z-index":"1"},attrs:{disabled:t.checkable},model:{value:t.carddata.checked,callback:function(e){t.$set(t.carddata,"checked",e)},expression:"carddata.checked"}})],1),i("div",{staticClass:"start"},[i("span",{staticClass:"address"},[t._v(t._s(t.carddata.from))])]),t._m(0),i("div",{staticClass:"end"},[i("span",{staticClass:"address"},[t._v(t._s(t.carddata.to))])]),i("van-divider",{staticStyle:{margin:"0"}}),i("div",{staticClass:"data"},[i("span",[t._v("运单号："+t._s(t.carddata.courierNumber))]),i("span",{staticClass:"price"},[t._v(t._s("￥"+t.carddata.price))])])],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"arrow"},[a("img",{attrs:{src:i("96b9")}})])}],c=i("bd86"),r=(i("3c32"),i("417e")),o=(i("7f7f"),i("2b28"),i("9ed2")),d={name:"SettleCard",props:["carddata","checkable"],data:function(){return{}},components:(a={},Object(c["a"])(a,o["a"].name,o["a"]),Object(c["a"])(a,r["a"].name,r["a"]),a),methods:{myclick:function(){this.checkable||this.$emit("cardClick",this.carddata.index)}}},l=d,u=(i("0b19"),i("2877")),h=Object(u["a"])(l,n,s,!1,null,"3ece5bf4",null);e["a"]=h.exports},"5f0b":function(t,e,i){"use strict";var a=i("d149"),n=i.n(a);n.a},"9bbc":function(t,e,i){"use strict";i.r(e);var a,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main",attrs:{id:"carCard"}},[i("div",{staticClass:"main-mid"},[i("van-pull-refresh",{on:{refresh:function(e){return t.Refresh()}},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[i("van-list",{attrs:{finished:t.finished,"finished-text":t.finishedtxt},on:{load:function(e){return t.getData()}},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.dataList,(function(e,a){return i("div",{key:a},[i("settle-card",{attrs:{carddata:e,checkable:t.submitLoading},on:{cardClick:t.cardClick}})],1)})),0)],1)],1),i("van-submit-bar",{attrs:{price:t.price,"button-text":"提交对账",label:"已选金额：",loading:t.submitLoading},on:{submit:function(e){return t.submitClick()}}},[i("van-checkbox",{staticStyle:{"margin-left":"12px"},attrs:{disabled:t.submitLoading},on:{click:t.allClick},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("多选")])],1)],1)},s=[],c=i("75fc"),r=(i("e7e5"),i("d399")),o=i("bd86"),d=(i("2994"),i("2bdd")),l=(i("2b28"),i("9ed2")),u=(i("ab71"),i("58e6")),h=(i("be39"),i("efa0")),f=(i("7f7f"),i("3c32"),i("417e")),b=i("5344"),p=i("7b60"),g={name:"UnSettle",components:(a={},Object(o["a"])(a,f["a"].name,f["a"]),Object(o["a"])(a,h["a"].name,h["a"]),Object(o["a"])(a,"settle-card",b["a"]),Object(o["a"])(a,u["a"].name,u["a"]),Object(o["a"])(a,l["a"].name,l["a"]),Object(o["a"])(a,d["a"].name,d["a"]),a),data:function(){return{dataList:[],checked:!1,submitLoading:!1,finished:!1,isLoading:!1,loading:!1,finishedtxt:"我是有底线的",pageNo:1,pageCount:0,submitList:[]}},computed:{price:function(){for(var t=0,e=0;e<this.dataList.length;e++)this.dataList[e].checked&&(t+=100*this.dataList[e].price);return t}},methods:{cardClick:function(t){if(this.submitList.length>=20&&0==this.dataList[t].checked)Object(r["a"])("最多选择20条");else if(this.dataList[t].checked=!this.dataList[t].checked,"-1"==this.submitList.indexOf(t)?this.submitList.push(t):this.submitList.splice(this.submitList.indexOf(t),1),this.checked){for(var e=0;e<this.dataList.length;e++)if(this.dataList[e].checked!=this.checked)return void(this.checked=!1)}else 20==this.submitList.length&&(this.checked=!0)},allClick:function(){if(!this.submitLoading){this.checked=!this.checked;for(var t=0;t<this.submitList.length;t++)this.dataList[this.submitList[t]].checked=!1;if(this.submitList=[],this.checked)for(var e=0;e<Math.min(this.dataList.length,20);e++)this.dataList[e].checked=!0,this.submitList.push(e)}},submitClick:function(){var t=this;if(0!=this.price){this.submitLoading=!0;for(var e="",i=0;i<this.submitList.length;i++)e+=0==i?this.dataList[this.submitList[i]].id:",".concat(this.dataList[this.submitList[i]].id);var a={id:e,transCorpID:"71536"};this.$api.post(p["a"].tradeSettle,a).then((function(e){"200"==e.data.code&&(t.submitLoading=!1,t.submitList=[],t.Refresh(),r["a"].success("对账成功！"))}))}else Object(r["a"])("请选择对账订单")},getData:function(){var t=this;if(this.isLoading||this.finished||this.dataList.length<20&&this.dataList.length>0)return this.finished=!0,void(this.loading=!1);this.loading=!0;var e={transCorpID:71536,pageNo:this.pageNo,isMachining:0};this.$api.post(p["a"].unSettleData,e).then((function(e){if("200"==e.data.code){t.pageCount=e.data.data.pageCount,t.pageNo++;for(var i=Object(c["a"])(e.data.data.transBillMains),a=0;a<i.length;a++){var n={orderNum:i[a].allBillNo||i[a].orderID,checked:!1,index:a+20*(t.pageNo-2),id:i[a].id,from:i[a].startAddr,to:i[a].endPlace,courierNumber:i[a].billNo,price:i[a].transPrice};t.dataList.push(n)}t.loading=!1,t.dataList.length/20>=t.pageCount-1&&(t.finished=!0)}})).catch((function(e){t.loading=!1,t.finished=!0,t.finishedtxt="网络错误，暂无数据"}))},Refresh:function(){var t=this;this.pageNo=1,this.$api.post(p["a"].unSettleData,{pageNo:this.pageNo,transCorpID:71536,isMachining:0}).then((function(e){if("200"==e.data.code){t.checked=!1,t.pageCount=e.data.data.pageCount;var i=Object(c["a"])(e.data.data.transBillMains);t.dataList=[],t.pageNo++;for(var a=0;a<i.length;a++){var n={orderNum:i[a].allBillNo||i[a].orderID,checked:!1,index:a,id:i[a].id,from:i[a].startAddr,to:i[a].endPlace,courierNumber:i[a].billNo,price:i[a].transPrice};t.dataList.push(n)}}t.isLoading=!1,t.finished=!0})).catch((function(e){t.isLoading=!1,t.finishedtxt="网络错误，暂无数据"}))}}},m=g,v=(i("5f0b"),i("2877")),k=Object(v["a"])(m,n,s,!1,null,"6f522566",null);e["default"]=k.exports},b1d2:function(t,e,i){"use strict";i.d(e,"g",(function(){return a})),i.d(e,"d",(function(){return s})),i.d(e,"b",(function(){return c})),i.d(e,"a",(function(){return r})),i.d(e,"c",(function(){return o})),i.d(e,"e",(function(){return d})),i.d(e,"f",(function(){return l}));var a="#fff",n="van-hairline",s=n+"--top",c=n+"--left",r=n+"--bottom",o=n+"--surround",d=n+"--top-bottom",l=n+"-unset--top-bottom"},b650:function(t,e,i){"use strict";var a=i("c31d"),n=i("2638"),s=i.n(n),c=i("d282"),r=i("ba31"),o=i("b1d2"),d=i("48f4"),l=i("ad06"),u=i("543e"),h=Object(c["a"])("button"),f=h[0],b=h[1];function p(t,e,i,a){var n,c=e.tag,h=e.icon,f=e.type,p=e.color,g=e.plain,m=e.disabled,v=e.loading,k=e.hairline,L=e.loadingText,x={};function C(t){v||m||(Object(r["a"])(a,"click",t),Object(d["a"])(a))}function S(t){Object(r["a"])(a,"touchstart",t)}p&&(x.color=g?p:o["g"],g||(x.background=p),-1!==p.indexOf("gradient")?x.border=0:x.borderColor=p);var y=[b([f,e.size,{plain:g,disabled:m,hairline:k,block:e.block,round:e.round,square:e.square}]),(n={},n[o["c"]]=k,n)];function O(){var a,n=[];return v?n.push(t(u["a"],{class:b("loading"),attrs:{size:e.loadingSize,type:e.loadingType,color:"currentColor"}})):h&&n.push(t(l["a"],{attrs:{name:h},class:b("icon")})),a=v?L:i.default?i.default():e.text,a&&n.push(t("span",{class:b("text")},[a])),n}return t(c,s()([{style:x,class:y,attrs:{type:e.nativeType,disabled:m},on:{click:C,touchstart:S}},Object(r["b"])(a)]),[O()])}p.props=Object(a["a"])({},d["c"],{text:String,icon:String,color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,nativeType:String,loadingText:String,loadingType:String,tag:{type:String,default:"button"},type:{type:String,default:"default"},size:{type:String,default:"normal"},loadingSize:{type:String,default:"20px"}}),e["a"]=f(p)},be39:function(t,e,i){"use strict";i("68ef"),i("09fe"),i("3b42")},d149:function(t,e,i){},efa0:function(t,e,i){"use strict";var a=i("2638"),n=i.n(a),s=i("d282"),c=i("ba31"),r=i("b650"),o=i("ad06"),d=Object(s["a"])("submit-bar"),l=d[0],u=d[1],h=d[2];function f(t,e,i,a){var s=e.tip,d=e.price,l=e.tipIcon;function f(){if("number"===typeof d){var i=e.currency+" "+(d/100).toFixed(e.decimalLength);return t("div",{class:u("text")},[t("span",[e.label||h("label")]),t("span",{class:u("price")},[i]),e.suffixLabel&&t("span",{class:u("suffix-label")},[e.suffixLabel])])}}function b(){if(i.tip||s)return t("div",{class:u("tip")},[l&&t(o["a"],{class:u("tip-icon"),attrs:{name:l}}),s&&t("span",{class:u("tip-text")},[s]),i.tip&&i.tip()])}return t("div",n()([{class:u({"safe-area-inset-bottom":e.safeAreaInsetBottom})},Object(c["b"])(a)]),[i.top&&i.top(),b(),t("div",{class:u("bar")},[i.default&&i.default(),f(),t(r["a"],{attrs:{square:!0,size:"large",type:e.buttonType,loading:e.loading,disabled:e.disabled,text:e.loading?"":e.buttonText},class:u("button"),on:{click:function(){Object(c["a"])(a,"submit")}}})])])}f.props={tip:String,label:String,price:Number,tipIcon:String,loading:Boolean,disabled:Boolean,buttonText:String,suffixLabel:String,safeAreaInsetBottom:Boolean,decimalLength:{type:Number,default:2},currency:{type:String,default:"¥"},buttonType:{type:String,default:"danger"}},e["a"]=l(f)}}]);